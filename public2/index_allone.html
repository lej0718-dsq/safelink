<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ì˜¬ì›ë±…í¬</title>
	<link rel="stylesheet" type="text/css"
		  href="//cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" />
	<link rel="stylesheet"
		  href="//fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
	<link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
	<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css" />
	<link rel="stylesheet" href="css/reset.css">
	<link rel="stylesheet" href="css/index.css">
	<link rel="stylesheet" href="css/responsive.css">
	<link rel="stylesheet" href="css/index_qr.css">
	<link rel="stylesheet" href="css/allone.css">
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

</head>

<body>
<div id="service_join_wrap" class="index_wrap">
	<div class="inner02">
		<section class="visual_main">
			<h2>íœ´ëŒ€í° ë²ˆí˜¸ ë…¸ì¶œ ì—†ì´<br />ì•½ì†ë²ˆí˜¸ë¡œ ì•ˆì „í•˜ê²Œ!</h2>
			<span>#ì „í™”ë²ˆí˜¸ë…¸ì¶œë°©ì§€ #ì‰¬ìš´ì´ìš©</span>
			<img class="visual_main_img" src="./images/img_service_info_visual_main.png" alt="í•´ë‹¹ ì„œë¹„ìŠ¤ëŠ” ì£¼ ì˜¬ë§ˆì´í¬ë ˆë”§ì—ì„œ ì œê³µ ë° ìš´ì˜í•©ë‹ˆë‹¤.">
		</section>
		<section class="info-card">
			<article class="card -dial">
				<span class="card-icon"></span>
				<div class="texts">
					<h3 class="title">íˆë“ ë‹¤ì´ì–¼(ì „í™” ê±¸ ë•Œ)</h3>
					<p class="desc">ë‚´ ë²ˆí˜¸ ëŒ€ì‹  ëŒ€í‘œë²ˆí˜¸ë¡œ í†µí™”ê°€ ì—°ê²°ë¼ìš”</p>
					<ul class="list -dot">
						<li>ì¤‘ê³  ê±°ë˜ ì‹œ ì¶”ì²œ</li>
					</ul>
				</div>
			</article>
			<article class="card -safe-call">
				<span class="card-icon"></span>
				<div class="texts">
					<h3 class="title">ì•ˆì‹¬ì½œ(ì „í™” ë°›ì„ ë•Œ)</h3>
					<p class="desc">ìƒëŒ€ë°©ì—ê²Œ ì•½ì†ë²ˆí˜¸ë¥¼ ì•Œë ¤ì£¼ë©´<br />ë‚´ ë²ˆí˜¸ ì—†ì´ë„ ì•ˆì „í•˜ê²Œ í†µí™”í•  ìˆ˜ ìˆì–´ìš”</p>
					<ul class="list -dot">
						<li>ì£¼ì°¨, ìƒë‹´ ì—…ë¬´ ì‹œ ì¶”ì²œ</li>
					</ul>
				</div>
			</article>
			<article class="card -call-log">
				<span class="card-icon"></span>
				<div class="texts">
					<h3 class="title">ëŒ€í‘œë²ˆí˜¸ë§Œ ë‚¨ëŠ” ê¹”ë”í•œ í†µí™”ê¸°ë¡</h3>
					<p class="desc">ë‚´ ë²ˆí˜¸ ë…¸ì¶œ ì—†ì´ í†µí™”ê¸°ë¡ì—ë„<br />ëŒ€í‘œë²ˆí˜¸ë§Œ ê¸°ë¡ë¼ìš”</p>
				</div>
			</article>

			<div class="contact-item">
				<div class="texts">
					<div class="icon"><i class="icon-qcmark"></i></div>
					<p class="infotext">ì›” 1,650ì›(VATí¬í•¨)ì´ ë¶€ê³¼ë˜ëŠ” ìœ ë£Œ ì„œë¹„ìŠ¤ì—ìš”</p>
				</div>
			</div>
		</section>

		<section class="pass-on-desc">
			<h2 class="section-sub-title">
				ì•½ì†ë²ˆí˜¸ ì „ë‹¬ë°©ë²•
			</h2>
			<p class="section-sub-text">[ì•½ì†ë²ˆí˜¸]ì™€ [QRì½”ë“œ]ë¥¼ ê³µìœ í•˜ë©´ ìƒëŒ€ë°©ì´ ì‰½ê²Œ ì „í™”ë¥¼ ê±¸ ìˆ˜ ìˆì–´ìš”</p>
			<ul class="list -dot">
				<li>ì„œë¹„ìŠ¤ ê°€ì… ì‹œ, ë‚´ íœ´ëŒ€í° ë²ˆí˜¸ ë’¤ 8ìë¦¬ê°€ ì•½ì†ë²ˆí˜¸ë¡œ ìë™ ì„¤ì •ë©ë‹ˆë‹¤.</li>
				<li>ì•½ì†ë²ˆí˜¸ ë³€ê²½ì„ ì›í•˜ëŠ” ê²½ìš°, ëŒ€í‘œë²ˆí˜¸ë¡œ ì „í™”í•˜ì—¬ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
			</ul>
			<div class="card_wrap">
				<article class="card">
					<button type="button" class="card-btn" onclick="qrPopup('copy')">
						<span class="card-icon"><i class="icon-copy"></i></span>
						<div class="texts">
							<h3 class="title">ì•½ì†ë²ˆí˜¸ ë³µì‚¬</h3>
							<p class="desc">ê°„ë‹¨í•˜ê²Œ ì•½ì†ë²ˆí˜¸ ë³µì‚¬ í›„ ìƒëŒ€ë°©ì—ê²Œ ì „ë‹¬í•´ì£¼ë©´ ë°”ë¡œ í†µí™” ì—°ê²° ê°€ëŠ¥</p>
						</div>
						<span class="card-arrow"></span>
					</button>
				</article>
				<article class="card">
					<button type="button" class="card-btn" onclick="qrPopup('download')">
						<span class="card-icon"><i class="icon-qr"></i></span>
						<div class="texts">
							<h3 class="title">QRì½”ë“œ ë‹¤ìš´ë¡œë“œ</h3>
							<p class="desc">QRì„ ì°ìœ¼ë©´ ë°”ë¡œ<br />í†µí™” ê°€ëŠ¥</p>
						</div>
						<span class="card-arrow"></span>
					</button>
				</article>
			</div>
		</section>
		<section class="consulting-num">
			<h2 class="section-sub-title">
				ë¬¸ì˜ ë° ìƒë‹´
			</h2>
			<div class="contact-item">
				<div class="icon"><i class="icon-phone"></i></div>
				<div class="info">
					<strong>ì „í™”ìƒë‹´</strong> <a href="tel:1533-5278">1533-5278</a>
					<small>ìš´ì˜ì‹œê°„ 10:00~17:00 (í† /ì¼/ê³µíœ´ì¼ ì œì™¸)</small>
				</div>
			</div>
			<div class="contact-item" id="emailContactItem" style="cursor: pointer; -webkit-tap-highlight-color: transparent;">
				<div class="icon"><i class="icon-email"></i></div>
				<div class="info" style="position: relative;">
					<strong>ì´ë©”ì¼</strong> 
					<span id="emailLink" style="display: inline; text-decoration: none; font-size: 16px; font-weight: normal; line-height: normal; padding: 0; margin: 2px; border: none; background: none; user-select: none; -webkit-user-select: none; -webkit-tap-highlight-color: transparent;">help@allmycredit.co.kr</span>
				</div>
			</div>
			<div class="button-group">
				<a href="/cancel_allone.html" class="button -primary -white">
				ê°€ì… í•´ì§€í•˜ê¸°
			</a>
			</div>
		</section>
		<!--ì´ë²¤íŠ¸ ë°°ë„ˆ ì£¼ì„ì²˜ë¦¬ -->
		<section class="event-banner">
			<a href="https://nhallonebank.nonghyup.com/service/html/abgateway.html?WEB=Y%26SRV_ID%3DABCUP1804R%26event_no%3D4986" aria-label="ì´ë²¤íŠ¸ ìì„¸íˆ ë³´ê¸°">
				<img src="./images/NhMegaEvent.png" alt="ë°°ë„ˆì´ë¯¸ì§€">
			</a>
        </section>
		<!--ì´ë²¤íŠ¸ ë°°ë„ˆ ì£¼ì„ì²˜ë¦¬ -->
		<div class="button-group">
			<a href="subscribe_allone.html" class="button -primary">ì„œë¹„ìŠ¤ ê°€ì…í•˜ê¸°</a>
		</div>
	</div>
</div>



<div class="overlay" id="popupOverlay" style="flex-direction: column;">
	<div class="popup" id="qrPopup">
		<button class="close-btn" id="closeBtn">&times;</button>
		<div class="popup-header">ì•½ì†ë²ˆí˜¸ í™•ì¸í•˜ê¸°</div>
		<hr class="qr-line">
		<!-- íœ´ëŒ€í° ë²ˆí˜¸ ì…ë ¥ ì˜ì—­ -->
		<div class="phone-input-wrap">
			<input type="text" id="phoneNumber" placeholder="íœ´ëŒ€í° ë²ˆí˜¸ ì…ë ¥"
				   style="flex: 1 !important; min-width: 200px !important; max-width: 344px !important; height: 46px !important;" />
			<button style="height: 46px;width: 73px;" id="confirmBtn">í™•ì¸</button>
		</div>
		<div style="font-size: 11pt;font-weight: 400;color: #8C8C8C;line-height: normal;margin-bottom: 24px;">
			* ìµœì´ˆì— ë¶€ì—¬ë°›ì€ ì—°ê²° ë²ˆí˜¸ë¥¼ ë³€ê²½í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ íœ´ëŒ€í° ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì‹œê²Œ ë˜ë©´, íœ´ëŒ€í° ë²ˆí˜¸ê°€ ë…¸ì¶œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
			(ì²˜ìŒ ê°€ì… ì‹œ íœ´ëŒ€í° ë²ˆí˜¸ ë’· 8ìë¦¬ë¡œ ìë™ ì„¤ì •ë˜ëŠ” ë°©ì‹) ì„¤ì • ë°©ë²•ì€ ë©”ì¸ í•˜ë‹¨ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
		</div>
		<hr class="qr-line">
		<!-- QR ì½”ë“œ í‘œì‹œ ì˜ì—­ -->
		<div class="qr-code-area" id="qrCodeArea">
			<div style="font-size: 16pt;font-weight: bold;color: #323232;text-align: -webkit-left;">
				QR ìƒì„±í•˜ê¸°
			</div>
			<!-- ì‹¤ì œ QR ì½”ë“œê°€ ë“¤ì–´ê°ˆ div -->
			<div id="qrCode"></div>
			<!-- ì˜ˆì‹œë¡œ QR í•˜ë‹¨ì— í‘œì‹œí•  í…ìŠ¤íŠ¸(ì•½ì†ë²ˆí˜¸ ë“±) -->
			<div id="qrInfoText"></div>
		</div>

		<!-- ì•½ì†ë²ˆí˜¸ ë³µì‚¬ ì˜ì—­ -->
		<div class="copy-code-area" id="copyCodeArea">
			<div style="font-size: 16pt;font-weight: bold;color: #323232;text-align: -webkit-left;">
				ì•½ì†ë²ˆí˜¸ ë³µì‚¬í•˜ê¸°
			</div>
			<div class="copyInfoDiv" style="position: relative;">
				<div style="position: relative;">
					<span id="copyText" style="display: inline-block; padding: 10px; background: #f0f0f0; border-radius: 8px; min-width: 200px; cursor: pointer; transition: all 0.3s ease; user-select: text; -webkit-user-select: text;"></span>
					<div id="promiseNumberCopyIndicator" style="position: absolute; top: -5px; right: -5px; background: #4caf50; color: white; padding: 5px 10px; border-radius: 15px; font-size: 12px; opacity: 0; transform: translateY(-10px); transition: all 0.3s ease; pointer-events: none; z-index: 10;">ë³µì‚¬ë¨! âœ“</div>
				</div>
				<div>
					<img id="copyTextBtn" data-clipboard-text="" style="width: 55px;float: right;" src="images/button.png" alt="ë³µì‚¬">
				</div>
			</div>
			<div class="copy-instruction" style="font-size: 11pt; color: #8C8C8C; margin-top: 10px; text-align: center;">
				ğŸ’¡ ì•½ì†ë²ˆí˜¸ë¥¼ ê¾¹ ëˆ„ë¥´ê³  ìˆìœ¼ë©´ (1ì´ˆ) ìë™ìœ¼ë¡œ ë³µì‚¬ë©ë‹ˆë‹¤
			</div>
		</div>

		<div style="text-align:-webkit-center">
			<!-- QR ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ -->
			<button style="align-items: center;" class="qr-download-btn" id="qrDownloadBtn">QR ë‹¤ìš´ë¡œë“œ</button>
		</div>

	</div>
	<!-- ë‹¤ìš´ë¡œë“œ ì™„ë£Œ ë©”ì‹œì§€ -->
	<div class="success-popup" id="successPopup">
		QR ë‹¤ìš´ë¡œë“œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤
	</div>
</div>

<!-- ìƒˆë¡œìš´ íŒì—… -->
<div class="show-popup" id="showPopup">
	ì„œë¹„ìŠ¤ ê°€ì… í›„ ì‚¬ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤
</div>
</body>


<script language="JavaScript">
	// ===== ìš”ì†Œ ê°€ì ¸ì˜¤ê¸° =====
	// ìƒˆë¡œìš´ íŒì—… ìš”ì†Œ ì„ ì–¸
	const popupOverlay = document.getElementById('popupOverlay');
	const closeBtn = document.getElementById('closeBtn');
	const confirmBtn = document.getElementById('confirmBtn');
	const qrCodeArea = document.getElementById('qrCodeArea');
	const qrCodeDiv = document.getElementById('qrCode');
	const qrInfoText = document.getElementById('qrInfoText');
	const qrDownloadBtn = document.getElementById('qrDownloadBtn');
	const successPopup = document.getElementById('successPopup');
	const phoneNumberInput = document.getElementById('phoneNumber');
	const copyCodeArea = document.getElementById('copyCodeArea');
	const copyText = document.getElementById('copyText');
	const copyTextBtn = document.getElementById('copyTextBtn');
	let qrType = 'copy';
	let amcNumber = '';
	const showPopup = document.getElementById('showPopup');

	$(document).ready(function(){
		// LoadingWithMask();
		$('#phoneNumber').on('input', function() { this.value = this.value.replace(/[^0-9]/g, ''); });

		function isMobileDevice() {
			return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
		}

		if (isMobileDevice()) {
			console.log("ëª¨ë°”ì¼ ê¸°ê¸°ì…ë‹ˆë‹¤.");
			document.getElementById('copy-btn').style.display='';
			document.getElementById('qr-btn').style.display='';
		}

		// ê¾¹ ëˆ„ë¥´ê¸° ë³µì‚¬ ê¸°ëŠ¥ ì´ˆê¸°í™”
		activatePromiseNumberCopy();
		
		// iOSì—ì„œ ë”ë¸”íƒ­ ì¤Œ ë°©ì§€
		let lastTouchEnd = 0;
		document.addEventListener('touchend', function(e) {
			const now = (new Date()).getTime();
			if (now - lastTouchEnd <= 300) {
				e.preventDefault();
			}
			lastTouchEnd = now;
		}, { passive: false });
	});

	// ===== íŒì—… ë‹«ê¸° =====
	closeBtn.addEventListener('click', () => {
		popupOverlay.style.display = 'none';
		resetPopup();
	});

	// ì˜¤ë²„ë ˆì´ í´ë¦­ ì‹œ íŒì—… ë‹«ê¸°
	popupOverlay.addEventListener('click', (event) => {
		// ì‹¤ì œ ë°°ê²½(overlay) ìì²´ë¥¼ í´ë¦­í–ˆì„ ê²½ìš°ì—ë§Œ ë‹«ê¸°
		if (event.target === popupOverlay) {
			popupOverlay.style.display = 'none';
			resetPopup();
		}
	});

	// ===== í™•ì¸ ë²„íŠ¼ í´ë¦­ ì‹œ (ì˜ˆ: ì „í™”ë²ˆí˜¸ ê²€ì¦ í›„ QR ì˜ì—­ ë…¸ì¶œ ì¤€ë¹„) =====
	confirmBtn.addEventListener('click', () => {
		const phoneNumber = phoneNumberInput.value.trim();
		if (!phoneNumber) {
			alert('ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
			return;
		}
		const phoneValid1 = /^010/.test(phoneNumber);
		const phoneValid2 = /^010[1-9]/.test(phoneNumber);
		const phoneValid3 = /^010\d{8}/.test(phoneNumber);
		if (!phoneValid1) {
			alert('ì „í™”ë²ˆí˜¸ëŠ” 010ìœ¼ë¡œ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.');
			$('#phoneNumber').focus();
			return;
		}
		if (!phoneValid2) {
			//$('#phoneNumberFeedback').show();
			alert('ì „í™”ë²ˆí˜¸ëŠ” ìˆ«ìë¡œ ì…ë ¥í•˜ì—¬ ì£¼ì„¸ìš”.');
			$('#phoneNumber').focus();
			return;
		}
		if (!phoneValid3) {
			alert('ì „í™”ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ í•œë²ˆ í™•ì¸í•´ ì£¼ì„¸ìš”.');
			$('#phoneNumber').focus();
			return;
		}

		// ì‹¤ì œ ë¡œì§ì—ì„œëŠ” ì„œë²„ ê²€ì¦, í˜¹ì€ ì•½ì†ë²ˆí˜¸ ìƒì„± ë¡œì§ ë“±ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆìŒ
		const formData = new FormData();
		formData.append('phoneNumber', phoneNumber);
		$.ajax({
			type: 'POST',
			url: '/api/v1.0/getdata',
			data: JSON.stringify({phoneNumber : phoneNumber}),
			contentType: 'application/json',
			caches: false,
			beforeSend: function () {
				//LoadingWithMask(); // ìš”ì²­ ì „ ë¡œë”© í‘œì‹œ
			},
			success: function (response) {
				//LoadingWithMaskOff();
				var data = JSON.parse(response);
				closeBtn.style.display='block';
				if (data.code === 200) {
					createQrcode(data.msg);
				} else {
					alert(data.msg);
				}
			},
			error: function (xhr, status, error) {
				//LoadingWithMaskOff(); // ì—ëŸ¬ ë°œìƒ ì‹œ ë¡œë”© í•´ì œ
				alert('ì ì‹œ í›„ ë‹¤ì‹œ í•´ì£¼ì„¸ìš”.');
			},
			complete: function () {
				//hideLoading();
				//LoadingWithMaskOff();
			}
		});
	});
	function LoadingWithMask() {
		// í™”ë©´ì˜ ë†’ì´ì™€ ë„ˆë¹„ë¥¼ êµ¬í•©ë‹ˆë‹¤.
		var maskHeight = $(document).height();
		var maskWidth = $(window).width();

		// í™”ë©´ì— ì¶œë ¥í•  ë§ˆìŠ¤í¬ë¥¼ ì„¤ì •í•´ì¤ë‹ˆë‹¤.
		var mask = "<div id='mask' style='position:fixed; z-index:9000; background-color:#000000; display:none; left:0; top:0;' onclick='LoadingWithMaskOff()'></div>";
		var loadingImg = '';
		loadingImg += "<div id='loadingImg' style='width:80%;height;40%; position: fixed; z-index:10000; display: none; background-color:#FFF;'>";
		loadingImg += " <table height=200 width=100%><tr><td align=center style='padding: 10px;font-size:30px; font-weight:500; '>ì‘ì—…ê³µì§€ì‚¬í•­<hr/></td></tr>";
		loadingImg += " <tr><td align=center style='line-height:180%; vertical-align : top; font-size:18px;'> ì•ˆì „í•œ ì„œë¹„ìŠ¤ ì œê³µì„ ìœ„í•˜ì—¬ ì‹œìŠ¤í…œì ê²€ì„ ì§„í–‰í•©ë‹ˆë‹¤. <br/><br/> ì ê²€ ì¼ì‹œ : 2024ë…„ 11ì›” 24ì¼ 00ì‹œ ~ 06ì‹œ<br/> </td></tr>";
		loadingImg += " <tr><td align=center style='line-height:180%; vertical-align : top'> <button style='margin-top: 20px; padding: 8px 15px; font-size: 14px; cursor: pointer;' onclick='LoadingWithMaskOff()'> ë‹«ê¸° </button> <br/></td></tr> <tr><td>.</td></tr> </table>";
		loadingImg += "</div>";

		// í™”ë©´ì— ë ˆì´ì–´ ì¶”ê°€
		$('body').append(mask).append(loadingImg);

		// ë§ˆìŠ¤í¬ì˜ ë†’ì´ì™€ ë„ˆë¹„ë¥¼ í™”ë©´ ê²ƒìœ¼ë¡œ ë§Œë“¤ì–´ ì „ì²´ í™”ë©´ì„ ì±„ì›ë‹ˆë‹¤.
		$('#mask').css({
			'width': maskWidth,
			'height': maskHeight,
			'opacity': '0.3'
		});

		// loadingImg ìš”ì†Œë¥¼ í™”ë©´ ì¤‘ì•™ì— ìœ„ì¹˜ì‹œí‚µë‹ˆë‹¤.
		$('#loadingImg').css({
			'top': '50%',
			'left': '50%',
			'transform': 'translate(-50%, -50%)'
		});

		// ë§ˆìŠ¤í¬ì™€ ë¡œë”© ì´ë¯¸ì§€ í‘œì‹œ
		$('#mask').show();
		$('#loadingImg').show();
	}
	
	function LoadingWithMaskOff() {
		$('#mask').remove();
		$('#loadingImg').remove();
	}
	function createQrcode(serviceNumber) {
		amcNumber = '15555551,1,' + serviceNumber + '#';
		if(qrType === 'copy') {
			copyCodeArea.style.display = 'block';
			copyText.textContent= `${amcNumber}`;
			copyTextBtn.setAttribute("data-clipboard-text", amcNumber);
			// ì•½ì†ë²ˆí˜¸ ê¾¹ ëˆ„ë¥´ê¸° ë³µì‚¬ ê¸°ëŠ¥ í™œì„±í™”
			setTimeout(activatePromiseNumberCopy, 100);
		} else {
			// ì´ë¯¸ QR ì½”ë“œê°€ ìˆë‹¤ë©´ ì´ˆê¸°í™”
			qrCodeDiv.innerHTML = '';
			// QR ì½”ë“œ ìƒì„± (qrcode.js ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©)
			const qr = new QRCode(qrCodeDiv, {
				text: 'tel:'+amcNumber,  // ì‹¤ì œ ì›í•˜ëŠ” í…ìŠ¤íŠ¸ë‚˜ URL
				width: 120,
				height: 120,
				colorDark: '#000000',
				colorLight: '#ffffff',
				correctLevel: QRCode.CorrectLevel.H
			});
			// ì˜ˆì‹œë¡œ QR í•˜ë‹¨ í…ìŠ¤íŠ¸ ì„¤ì •
			qrInfoText.textContent = `${amcNumber}`;
			// QR ì˜ì—­ ë° ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ ë…¸ì¶œ
			qrCodeArea.style.display = 'block';
			qrDownloadBtn.style.display = 'grid';
		}
	}

	// ===== QR ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ í´ë¦­ =====
	qrDownloadBtn.addEventListener('click', () => {
		// canvas íƒœê·¸ë¥¼ ì´ë¯¸ì§€ë¡œ ë³€í™˜
		const canvas = qrCodeDiv.querySelector('canvas');
		if (!canvas) return;

		const dataUrl = canvas.toDataURL('image/png');
		const link = document.createElement('a');
		link.href = dataUrl;
		link.download = 'qr_code.png';
		link.click();

		// ë‹¤ìš´ë¡œë“œ ì™„ë£Œ ë©”ì‹œì§€ í‘œì‹œ
		showSuccessPopup();
	});

	function showSuccessPopup(type = null) {
		let text = '';
		if(type === 'email') {
			text = 'ì´ë©”ì¼ ì£¼ì†Œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤';
		} else if(qrType === 'copy') {
			text = 'ì•½ì†ë²ˆí˜¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤';
		} else {
			text = 'QR ë‹¤ìš´ë¡œë“œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤'
		}
		successPopup.innerText=text;
		// íŒì—… ë³´ì´ê¸°
		successPopup.classList.add('show')

		// ì¼ì • ì‹œê°„ í›„ ìë™ìœ¼ë¡œ ìˆ¨ê¸°ê¸° (ì˜ˆ: 2ì´ˆ í›„)
		setTimeout(() => {
			successPopup.classList.remove('show');
		}, 2000);
	}

	// ===== íŒì—… ë¦¬ì…‹ í•¨ìˆ˜ =====
	function resetPopup() {
		phoneNumberInput.value = '';
		qrCodeArea.style.display = 'none';
		qrDownloadBtn.style.display = 'none';
		qrCodeDiv.innerHTML = '';
		qrInfoText.textContent = '';
		closeBtn.style.display = 'none';
		copyCodeArea.style.display = 'none';
	}

	const clipboard = new ClipboardJS('#copyTextBtn');
	clipboard.on('success', function(e){
		e.clearSelection();
		showSuccessPopup();
	});

	// ì•½ì†ë²ˆí˜¸ ê¾¹ ëˆ„ë¥´ê¸° ë³µì‚¬ ê¸°ëŠ¥
	function initPromiseNumberLongPress() {
		const copyTextElement = document.getElementById('copyText');
		const copyIndicator = document.getElementById('promiseNumberCopyIndicator');
		
		if (!copyTextElement) return;
		
		let touchTimeout;
		let isTouching = false;

		// í„°ì¹˜ ì‹œì‘
		copyTextElement.addEventListener('touchstart', function(e) {
			const text = copyTextElement.textContent.trim();
			if (!text) return;
			
			isTouching = true;
			
			// 1ì´ˆ í›„ ë³µì‚¬ ì‹¤í–‰
			touchTimeout = setTimeout(() => {
				if (isTouching) {
					copyPromiseNumberText();
				}
			}, 800);
		});

		// í„°ì¹˜ ë
		copyTextElement.addEventListener('touchend', function(e) {
			isTouching = false;
			if (touchTimeout) {
				clearTimeout(touchTimeout);
			}
		});

		// í„°ì¹˜ ì·¨ì†Œ (ìŠ¤í¬ë¡¤ ë“±ìœ¼ë¡œ ì¸í•œ)
		copyTextElement.addEventListener('touchcancel', function(e) {
			isTouching = false;
			if (touchTimeout) {
				clearTimeout(touchTimeout);
			}
		});

		// ë°ìŠ¤í¬íƒ‘ì—ì„œë„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë„ë¡ ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ ì¶”ê°€
		copyTextElement.addEventListener('mousedown', function(e) {
			const text = copyTextElement.textContent.trim();
			if (!text) return;
			
			isTouching = true;
			
			touchTimeout = setTimeout(() => {
				if (isTouching) {
					copyPromiseNumberText();
				}
			}, 800);
		});

		copyTextElement.addEventListener('mouseup', function(e) {
			isTouching = false;
			if (touchTimeout) {
				clearTimeout(touchTimeout);
			}
		});

		copyTextElement.addEventListener('mouseleave', function(e) {
			isTouching = false;
			if (touchTimeout) {
				clearTimeout(touchTimeout);
			}
		});

		// ì•½ì†ë²ˆí˜¸ ë³µì‚¬ í•¨ìˆ˜
		async function copyPromiseNumberText() {
			const text = copyTextElement.textContent.trim();
			if (!text) return;

			try {
				// ìµœì‹  Clipboard API ì‚¬ìš©
				if (navigator.clipboard && window.isSecureContext) {
					await navigator.clipboard.writeText(text);
				} else {
					// í´ë°±: êµ¬ ë°©ì‹ ì‚¬ìš©
					const textArea = document.createElement('textarea');
					textArea.value = text;
					textArea.style.position = 'fixed';
					textArea.style.top = '-9999px';
					document.body.appendChild(textArea);
					textArea.select();
					textArea.setSelectionRange(0, 99999);
					document.execCommand('copy');
					document.body.removeChild(textArea);
				}

				showPromiseNumberCopyFeedback();
				showSuccessPopup();
				
			} catch (err) {
				console.error('ì•½ì†ë²ˆí˜¸ ë³µì‚¬ ì‹¤íŒ¨:', err);
				// í´ë°±ìœ¼ë¡œ ê¸°ì¡´ ë°©ì‹ ì‹œë„
				try {
					const textArea = document.createElement('textarea');
					textArea.value = text;
					textArea.style.position = 'fixed';
					textArea.style.top = '-9999px';
					document.body.appendChild(textArea);
					textArea.select();
					document.execCommand('copy');
					document.body.removeChild(textArea);
					showPromiseNumberCopyFeedback();
					showSuccessPopup();
				} catch (fallbackErr) {
					console.error('í´ë°± ë³µì‚¬ë„ ì‹¤íŒ¨:', fallbackErr);
					// ì‹¤íŒ¨ ì‹œ ì¡°ìš©íˆ ì²˜ë¦¬, ì‚¬ìš©ìì—ê²ŒëŠ” ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œí•˜ì§€ ì•ŠìŒ
				}
			}
		}

		// ì•½ì†ë²ˆí˜¸ ë³µì‚¬ ì™„ë£Œ ì‹œê°ì  í”¼ë“œë°±
		function showPromiseNumberCopyFeedback() {
			// í…ìŠ¤íŠ¸ ì˜ì—­ ì• ë‹ˆë©”ì´ì…˜ í´ë˜ìŠ¤ ì ìš©
			copyTextElement.classList.add('copying');
			setTimeout(() => {
				copyTextElement.classList.remove('copying');
			}, 600);

			// ë³µì‚¬ ì¸ë””ì¼€ì´í„° í‘œì‹œ
			copyIndicator.classList.add('show');
			
			// ë°”ìš´ìŠ¤ ì• ë‹ˆë©”ì´ì…˜ì„ ìœ„í•´ ê¸°ì¡´ ì• ë‹ˆë©”ì´ì…˜ ë¦¬ì…‹
			copyIndicator.style.animation = 'none';
			setTimeout(() => {
				copyIndicator.style.animation = '';
			}, 10);
			
			setTimeout(() => {
				copyIndicator.classList.remove('show');
			}, 2000);
		}
	}

	// ì•½ì†ë²ˆí˜¸ê°€ ì„¤ì •ë  ë•Œ ê¾¹ ëˆ„ë¥´ê¸° ê¸°ëŠ¥ í™œì„±í™”
	function activatePromiseNumberCopy() {
		// DOMì´ ì¤€ë¹„ë˜ë©´ ì´ˆê¸°í™”
		if (document.readyState === 'loading') {
			document.addEventListener('DOMContentLoaded', initPromiseNumberLongPress);
		} else {
			initPromiseNumberLongPress();
		}
	}

	/* QR ê¸°ëŠ¥*/
	function qrPopup(type) {
		const qrPopup = document.getElementById("popupOverlay");
		qrPopup.style.display = 'flex';
		if (type === 'copy') {
			qrType = 'copy';
		} else {
			qrType = 'download';
		}
	}

	/* ì´ë©”ì¼ í…ìŠ¤íŠ¸ë§Œ í´ë¦­ìœ¼ë¡œ ë³µì‚¬ ê¸°ëŠ¥ */
	const emailLink = document.getElementById('emailLink');
	
	if (emailLink) {
		// ê°„ë‹¨í•œ í´ë¦­ ì´ë²¤íŠ¸ë¡œ ì¦‰ì‹œ ë³µì‚¬
		emailLink.addEventListener('click', function(e) {
			e.preventDefault();
			e.stopPropagation();
			copyEmailFromSpan();
		});
		
		// í„°ì¹˜ ì´ë²¤íŠ¸ë„ ì¶”ê°€ (ëª¨ë°”ì¼ ëŒ€ì‘)
		emailLink.addEventListener('touchend', function(e) {
			e.preventDefault();
			e.stopPropagation();
			copyEmailFromSpan();
		});
		
		// í˜¸ë²„ íš¨ê³¼
		emailLink.addEventListener('mouseenter', function(e) {
			this.style.background = 'rgba(0, 122, 255, 0.1)';
			this.style.transform = 'translateX(2px)';
			this.style.borderRadius = '4px';
		});
		
		emailLink.addEventListener('mouseleave', function(e) {
			this.style.background = 'transparent';
			this.style.transform = 'translateX(0)';
		});
		
		// ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´ ë°©ì§€
		emailLink.addEventListener('contextmenu', function(e) {
			e.preventDefault();
		});
		
		// ë“œë˜ê·¸ ë°©ì§€
		emailLink.addEventListener('dragstart', function(e) {
			e.preventDefault();
		});
	}
	
	// span ìš”ì†Œì—ì„œ ì´ë©”ì¼ ë³µì‚¬í•˜ëŠ” í•¨ìˆ˜ (ì•„ì´í° í™•ì‹¤ ë°©ì‹)
	function copyEmailFromSpan() {
		const email = "help@allmycredit.co.kr"; // ì§ì ‘ ì§€ì •ìœ¼ë¡œ í™•ì‹¤í•˜ê²Œ
		
		// ì•„ì´í°ì—ì„œ ê°€ì¥ í™•ì‹¤í•œ ë°©ë²•
		const tempTextarea = document.createElement('textarea');
		tempTextarea.value = email;
		tempTextarea.style.position = 'absolute';
		tempTextarea.style.left = '-9999px';
		tempTextarea.style.top = '-9999px';
		tempTextarea.style.fontSize = '16px'; // ì•„ì´í° ì¤Œ ë°©ì§€
		tempTextarea.style.opacity = '1'; // ì™„ì „íˆ íˆ¬ëª…í•˜ë©´ ì•ˆë¨
		tempTextarea.style.color = 'transparent';
		tempTextarea.readOnly = false; // ì•„ì´í°ì—ì„œ ì¤‘ìš”
		
		document.body.appendChild(tempTextarea);
		
		try {
			// í˜„ì¬ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ì €ì¥
			const currentScrollY = window.scrollY;
			
			// ì¦‰ì‹œ ì„ íƒí•˜ê³  ë³µì‚¬
			tempTextarea.focus();
			tempTextarea.select();
			tempTextarea.setSelectionRange(0, email.length);
			
			// execCommand - ì•„ì´í°ì—ì„œ ê°€ì¥ ì•ˆì •ì 
			document.execCommand('copy');
			
			// ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ë³µì›
			window.scrollTo(0, currentScrollY);
			
			// ì´ë©”ì¼ ì˜ì—­ ê·¸ ìë¦¬ì— ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ (ëª¨ë“  ê¸°ê¸° ë™ì¼)
			showEmailCopySuccess();
			
		} catch (err) {
			// ì‹¤íŒ¨í•´ë„ ì„±ê³µìœ¼ë¡œ í‘œì‹œ (ëŒ€ë¶€ë¶„ ì‹¤ì œë¡œëŠ” ë³µì‚¬ë¨)
			showEmailCopySuccess();
		} finally {
			// ì¦‰ì‹œ ì œê±°
			document.body.removeChild(tempTextarea);
		}
	}
	

	
	// ì´ë©”ì¼ í…ìŠ¤íŠ¸ ì˜ì—­ ê·¸ ìë¦¬ì— ë³µì‚¬ ì™„ë£Œ ë©”ì‹œì§€ í‘œì‹œ
	function showEmailCopySuccess() {
		const emailLink = document.getElementById('emailLink');
		if (!emailLink) return;
		
		// ê¸°ì¡´ ë³µì‚¬ ì•Œë¦¼ì´ ìˆë‹¤ë©´ ì œê±°
		const existingAlert = document.getElementById('emailCopyAlert');
		if (existingAlert) {
			existingAlert.remove();
		}
		
		// ìƒˆë¡œìš´ ë³µì‚¬ ì™„ë£Œ ì•Œë¦¼ ìƒì„±
		const copyAlert = document.createElement('div');
		copyAlert.id = 'emailCopyAlert';
		copyAlert.textContent = 'ì´ë©”ì¼ ì£¼ì†Œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤';
		copyAlert.style.cssText = `
			position: absolute;
			top: -40px;
			left: 50%;
			transform: translateX(-50%);
			background: #18973D;
			color: white;
			padding: 8px 16px;
			border-radius: 8px;
			font-size: 14px;
			font-weight: 600;
			z-index: 1000;
			white-space: nowrap;
			box-shadow: 0 2px 8px rgba(0,0,0,0.2);
			opacity: 0;
			transition: opacity 0.3s ease;
		`;
		
		// ì´ë©”ì¼ í…ìŠ¤íŠ¸ì— ìƒëŒ€ì ìœ¼ë¡œ ìœ„ì¹˜ì‹œí‚¤ê¸° ìœ„í•´ relative ì„¤ì •
		emailLink.style.position = 'relative';
		emailLink.appendChild(copyAlert);
		
		// ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ê¸°
		setTimeout(() => {
			copyAlert.style.opacity = '1';
		}, 10);
		
		// 2ì´ˆ í›„ ì‚¬ë¼ì§€ê¸°
		setTimeout(() => {
			if (copyAlert) {
				copyAlert.style.opacity = '0';
				setTimeout(() => {
					if (copyAlert && copyAlert.parentNode) {
						copyAlert.parentNode.removeChild(copyAlert);
					}
				}, 300);
			}
		}, 2000);
	}


</script>

</html>